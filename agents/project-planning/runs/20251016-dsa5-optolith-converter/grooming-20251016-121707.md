# Grooming Notes — 2025-10-16 DSA5 → Optolith Converter

## Participants
- Scrum Master Agent (facilitator)
- Product Owner Agent (vision & scope)
- Developer Agent A (data extraction focus)
- Developer Agent B (runtime integration focus)
- QA Agent (validation & coverage)

## Backlog Under Review
- Story DSA5-OPT-001 — Optolith ZIP extraction to derived dataset
- Story DSA5-OPT-002 — Stat block parser
- Story DSA5-OPT-003 — Dataset resolver
- Story DSA5-OPT-004 — Optolith JSON exporter

---

### Round 1
- **Scrum Master:** Confirms agenda and timeboxes discussions; requests each participant highlight immediate blockers. Notes the need to capture impediments formally if they persist.
- **Product Owner:** Reiterates licensing confirmation for derived dataset; asks for timeline on extractor usability to support potential data refresh cadence.
- **Developer A:** Flags that extractor needs schema version detection. Suggests adding acceptance criteria around validating checksum of the source ZIP.
- **Developer B:** Emphasizes need for typed access layer when consuming derived dataset in Vite/Node environments. Requests clarity on where the dataset lives post-build.
- **QA Agent:** Asks for sample stat blocks covering edge cases (casters, multi-attack foes). Requests explicit test harness entry point for parser.

### Round 2
- **Scrum Master:** Summarizes new action items: add checksum AC to Story 001, define dataset path contract, and gather additional stat block samples. Assigns follow-up owners.
- **Product Owner:** Provides commitment to source another two complex stat blocks (elementalist & demon). Suggests adding acceptance criterion ensuring narrative notes remain intact after export.
- **Developer A:** Questions whether extraction tool should run during CI or manually. Advocates for CLI with deterministic output and CI verification to catch schema drift.
- **Developer B:** Raises concern about bundler limitations when loading large JSON. Proposes slicing dataset into domain-specific chunks (talents, abilities, etc.).
- **QA Agent:** Highlights need for automated comparison between parsed model and expected JSON to detect regression. Recommends snapshot tests for exporter output.

### Round 3
- **Scrum Master:** Checks dependency chain; confirms Stories 002–004 blocked on 001 completion. Suggests spiking dataset chunking if it complicates initial delivery.
- **Product Owner:** Comfortable with chunked datasets if documentation clarifies refresh process. Requests README update for maintainers on running the extractor.
- **Developer A:** Volunteers to document extractor flow, including environment requirements. Points out the derived dataset should include a manifest listing sections and timestamps.
- **Developer B:** Notes need for type definitions generated from manifest to keep runtime usage safe. Suggests aligning on naming conventions to match Optolith schema fields.
- **QA Agent:** Plans to create fixtures referencing the manifest to ensure all sections are covered by tests. Requests inclusion of negative cases (unmapped abilities) in acceptance criteria.

### Round 4
- **Scrum Master:** Reiterates risk of schema mismatches; proposes regular cadence (monthly) for running extractor. Adds task to track schema version in release notes.
- **Product Owner:** Accepts monthly cadence, provided tooling surfaces diff between derived dataset versions. Advocates for changelog describing new/removed entries.
- **Developer A:** Suggests enhancing extractor to produce diff report when run against previous dataset, aiding PO requests.
- **Developer B:** Wants to ensure runtime handles missing sections gracefully. Recommends default fallbacks and logging (non-console) for missing IDs.
- **QA Agent:** Commits to building automated regression suite that runs exporter against new dataset to ensure compatibility before release.

### Round 5
- **Scrum Master:** Confirms next steps logged; schedules follow-up grooming once extractor prototype ready. Ensures action items have owners.
- **Product Owner:** Plans to update intake spec with extractor documentation link once available. Confirms willingness to review diff reports.
- **Developer A:** Will draft CLI interface spec (flags, output paths) and share with team. Notes potential need for caching unzipped data to speed reruns.
- **Developer B:** Will prototype module interface for loading derived dataset chunks, verifying tree-shaking compatibility. Requests pairing session with QA once fixtures ready.
- **QA Agent:** Agrees to create Vitest suites for parser and exporter using provided samples and to design regression harness triggered by extractor updates.

---

## Action Items
- Add checksum verification and manifest output to Story DSA5-OPT-001 (Developer A).
- Document dataset path contract and bundling strategy in Story DSA5-OPT-003 notes (Developer B).
- Expand acceptance criteria for narrative note preservation and dataset diff reporting (Product Owner & Developer A).
- Provide additional stat block samples (Product Owner) and wire them into QA fixtures (QA Agent).
- Schedule extractor prototype review before next sprint planning (Scrum Master).

## Follow-Up
- Next grooming session planned once extraction CLI prototype and manifest draft are ready.
- Scrum Master to track schema-version cadence in team risk log.
